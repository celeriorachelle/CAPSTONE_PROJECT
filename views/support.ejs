<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Support - Everlasting Peace Memorial Park</title>
  <link rel="stylesheet" href="/stylesheets/support.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
  <!-- Sidebar -->
  <%- include('partials/sidebar') %>

  <div class="main" id="main">
    <!-- Topbar -->
    <%- include('partials/topbar', { title: "Support" }) %>

    <div class="support-container">
      <!-- FAQ Section -->
      <section class="faq-section">
        <h2><i class="fas fa-question-circle"></i> Frequently Asked Questions</h2>

        <div class="faq-item">
          <div class="faq-question">
            📅 How do I book an appointment?
            <i class="fas fa-chevron-down"></i>
          </div>
          <div class="faq-answer">
            To book an appointment, go to the "Book" section in the sidebar and fill out the booking form.
          </div>
        </div>

        <div class="faq-item">
          <div class="faq-question">
            ⏰ What are your support hours and response times?
            <i class="fas fa-chevron-down"></i>
          </div>
          <div class="faq-answer">
            Our team is available <strong>Monday–Friday, 8:00 AM to 5:00 PM</strong>.  
            We typically respond within 24 hours.
          </div>
        </div>

        <div class="faq-item">
          <div class="faq-question">
            📍 Where is the cemetery located?
            <i class="fas fa-chevron-down"></i>
          </div>
          <div class="faq-answer">
            You can view the full address and map in the "View Map" section of the sidebar.
          </div>
        </div>
      </section>

      <!-- Contact Support Section -->
      <section class="contact-section">
        <h2><i class="fas fa-headset"></i> Contact Support</h2>
        <div class="contact-info">
          <p>📧 <strong>Email:</strong> support@everlastingpeace.com</p>
          <p>📞 <strong>Phone:</strong> +63 967 007 2385</p>
          <p>📍 <strong>Address:</strong> Everlasting Peace Memorial Park, Malabon City, Philippines</p>
        </div>
      </section>
    </div>

    <!-- Footer -->
    <footer>
      <%- include('partials/footer') %>
    </footer>
  </div>

  <script>
  document.addEventListener("DOMContentLoaded", function () {
   

  // FAQ accordion using event delegation
  const supportContainer = document.querySelector('.support-container');
  if (!supportContainer) {
    console.warn('Support container not found — FAQ script aborted.');
    return;
  }

  // helper to close other items (optional)
  function closeOtherItems(currentItem) {
    document.querySelectorAll('.faq-item.active').forEach(other => {
      if (other === currentItem) return;
      other.classList.remove('active');
      const ans = other.querySelector('.faq-answer');
      const icon = other.querySelector('.faq-question i');
      if (ans) ans.style.maxHeight = null;
      if (icon) icon.style.transform = '';
    });
  }

  supportContainer.addEventListener('click', (e) => {
    const q = e.target.closest('.faq-question');
    if (!q) return;

    const item = q.closest('.faq-item');
    if (!item) return;

    // Close others (so only one open at a time). Remove this line if you want multiple open.
    closeOtherItems(item);

    const answer = item.querySelector('.faq-answer');
    const icon = q.querySelector('i');

    // Toggle active class
    const willOpen = !item.classList.contains('active');
    item.classList.toggle('active', willOpen);

    if (willOpen) {
      // Open: set maxHeight to scrollHeight so CSS transition animates
      if (answer) {
        answer.style.maxHeight = answer.scrollHeight + 'px';
      }
      if (icon) icon.style.transform = 'rotate(180deg)';
    } else {
      // Close
      if (answer) answer.style.maxHeight = null;
      if (icon) icon.style.transform = '';
    }
  });

  // If some items are pre-marked active in HTML, set their maxHeight on load
  document.querySelectorAll('.faq-item.active .faq-answer').forEach(ans => {
    ans.style.maxHeight = ans.scrollHeight + 'px';
  });
});
</script>

  </script>
</body>
</html>
